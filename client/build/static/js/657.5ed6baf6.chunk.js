"use strict";(self.webpackChunkmanagement_tracking=self.webpackChunkmanagement_tracking||[]).push([[657],{3657:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(9439),i=t(2791),o=t(4456),a=function(e){return e.routing.client},l=t(1413),u=t(7781),s=t(1204),c=(0,l.Z)({},s.e),d=t(9790),v=t(1757),m=t(3898),f=t(1125),h=t(184),g=function(e){var n=e.currentCartId,t=e.setCurrentId,l=e.currentId,s=(0,i.useState)(""),g=(0,r.Z)(s,2),p=g[0],x=g[1],_=(0,i.useState)(""),j=(0,r.Z)(_,2),k=j[0],C=j[1],b=(0,i.useState)(""),w=(0,r.Z)(b,2),I=w[0],N=w[1],S=(0,o.TL)(),Z=(0,o.CG)(a),D=Z.filteredData,M=Z.data,O=function(){var e=(0,o.TL)();return(0,u.DE)(c,e)}(),T=O.getClientsWithRoutingOrders;(0,i.useEffect)((function(){T()}),[]);return(0,h.jsxs)("div",{className:"routing_information-block",children:[(0,h.jsx)("div",{className:"routing_information-block_search",children:(0,h.jsx)(v.II,{onChange:function(e){return x(e.target.value)},placeholder:"Search...",value:p,iconLeft:(0,h.jsx)(f.ol,{}),iconRight:(0,h.jsx)(f.pV,{})})}),(0,h.jsxs)("div",{className:"routing_information-block_vehicle-profile",children:[(0,h.jsx)("h5",{children:"Vehicle Profile"}),(0,h.jsxs)("div",{className:"routing_information-block_vehicle-profile_inputs",children:[(0,h.jsx)(v.Hs,{onChange:function(e){return C(e.target.value)},placeholder:"0.000",type:"number",value:k,label:"weight",math:"kg"}),(0,h.jsx)(v.Hs,{onChange:function(e){return N(e.target.value)},placeholder:"0.000",type:"number",value:I,label:"volume",math:"m"})]}),(0,h.jsx)(v.zx,{size:"medium",onClickCallBack:function(){(k||I)&&S((0,d.T)({weight:k,volume:I,data:M}))},children:"Find Routes"})]}),(0,h.jsxs)("div",{className:"routing_information-block_overview",children:[(0,h.jsx)("h5",{children:"Overview"}),(0,h.jsx)("div",{className:"routing_information-block_overview_shipments",children:null===D||void 0===D?void 0:D.map((function(e,r){return(0,h.jsx)(m.wD,{clientName:e.name,clientSurname:e.surname,to:e.order[0].location.to,from:e.order[0].location.from,shipmentType:e.order[0].shipmentType,shipmentNumber:e.order[0].shipmentNumber,isActive:n===e._id||l===e._id,setCurrentId:function(){return t(e._id)}},r)}))})]})]})},p=function(){var e=(0,i.useState)(0),n=(0,r.Z)(e,2),t=n[0],l=n[1],u=(0,i.useState)(0),s=(0,r.Z)(u,2),c=s[0],d=s[1],v=(0,i.useState)(null),f=(0,r.Z)(v,2),p=f[0],x=f[1],_=(0,o.CG)(a).data;return(0,i.useEffect)((function(){if(c){var e=new window.google.maps.DirectionsService,n=null===_||void 0===_?void 0:_.find((function(e){return e._id===c})),t={lat:null===n||void 0===n?void 0:n.order[0].location.from.lat,lng:null===n||void 0===n?void 0:n.order[0].location.from.lng},r={lat:null===n||void 0===n?void 0:n.order[0].location.to.lat,lng:null===n||void 0===n?void 0:n.order[0].location.to.lng};e.route({origin:t,destination:r,travelMode:google.maps.TravelMode.DRIVING},(function(e,n){"OK"===n?x(e):console.error("Directions request failed with status: ".concat(n))}))}}),[c]),(0,h.jsxs)("div",{className:"routing",children:[(0,h.jsx)(g,{currentCartId:t,currentId:c,setCurrentId:d}),_&&(0,h.jsx)(m.CU,{orders:_,windowOpenId:t,handleMarkerMouseOver:function(e){l(e)},handleMarkerMouseOut:function(e){l(e)},centerCordinats:{lat:40.18835040814713,lng:44.52188208695554},directions:p})]})}}}]);
//# sourceMappingURL=657.5ed6baf6.chunk.js.map